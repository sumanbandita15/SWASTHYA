'use strict';var cov_2e00313j0d=function(){var path="C:\\Users\\suman\\Desktop\\Swasthya\\server\\index.js",hash="03ad070b214f006bede5591ac75d487739388405",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\Users\\suman\\Desktop\\Swasthya\\server\\index.js",statementMap:{"0":{start:{line:3,column:16},end:{line:3,column:34}},"1":{start:{line:4,column:13},end:{line:4,column:28}},"2":{start:{line:5,column:15},end:{line:5,column:32}},"3":{start:{line:6,column:17},end:{line:6,column:36}},"4":{start:{line:8,column:23},end:{line:8,column:51}},"5":{start:{line:9,column:21},end:{line:9,column:47}},"6":{start:{line:10,column:20},end:{line:10,column:45}},"7":{start:{line:11,column:20},end:{line:11,column:48}},"8":{start:{line:12,column:22},end:{line:12,column:49}},"9":{start:{line:13,column:22},end:{line:13,column:47}},"10":{start:{line:14,column:32},end:{line:14,column:51}},"11":{start:{line:15,column:22},end:{line:15,column:46}},"12":{start:{line:17,column:12},end:{line:17,column:21}},"13":{start:{line:20,column:0},end:{line:20,column:24}},"14":{start:{line:23,column:0},end:{line:23,column:28}},"15":{start:{line:24,column:0},end:{line:24,column:26}},"16":{start:{line:26,column:0},end:{line:30,column:2}},"17":{start:{line:28,column:16},end:{line:28,column:47}},"18":{start:{line:32,column:0},end:{line:36,column:2}},"19":{start:{line:40,column:0},end:{line:40,column:37}},"20":{start:{line:41,column:0},end:{line:41,column:33}},"21":{start:{line:42,column:0},end:{line:42,column:35}},"22":{start:{line:43,column:0},end:{line:43,column:34}},"23":{start:{line:46,column:0},end:{line:50,column:3}},"24":{start:{line:47,column:14},end:{line:47,column:36}},"25":{start:{line:48,column:2},end:{line:48,column:19}},"26":{start:{line:49,column:2},end:{line:49,column:12}},"27":{start:{line:53,column:0},end:{line:60,column:3}},"28":{start:{line:54,column:2},end:{line:59,column:3}},"29":{start:{line:55,column:20},end:{line:55,column:68}},"30":{start:{line:56,column:4},end:{line:56,column:41}},"31":{start:{line:58,column:4},end:{line:58,column:63}},"32":{start:{line:64,column:17},end:{line:71,column:6}},"33":{start:{line:66,column:6},end:{line:66,column:69}},"34":{start:{line:69,column:6},end:{line:69,column:47}},"35":{start:{line:70,column:6},end:{line:70,column:25}},"36":{start:{line:74,column:0},end:{line:77,column:1}},"37":{start:{line:75,column:2},end:{line:75,column:14}},"38":{start:{line:76,column:2},end:{line:76,column:14}},"39":{start:{line:79,column:0},end:{line:79,column:25}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:28,column:10},end:{line:28,column:11}},loc:{start:{line:28,column:16},end:{line:28,column:47}},line:28},"1":{name:"(anonymous_1)",decl:{start:{line:46,column:8},end:{line:46,column:9}},loc:{start:{line:46,column:28},end:{line:50,column:1}},line:46},"2":{name:"(anonymous_2)",decl:{start:{line:53,column:8},end:{line:53,column:9}},loc:{start:{line:53,column:33},end:{line:60,column:1}},line:53},"3":{name:"runServer",decl:{start:{line:63,column:9},end:{line:63,column:18}},loc:{start:{line:63,column:32},end:{line:72,column:1}},line:63},"4":{name:"(anonymous_4)",decl:{start:{line:65,column:18},end:{line:65,column:19}},loc:{start:{line:65,column:24},end:{line:67,column:5}},line:65},"5":{name:"(anonymous_5)",decl:{start:{line:68,column:17},end:{line:68,column:18}},loc:{start:{line:68,column:24},end:{line:71,column:5}},line:68}},branchMap:{"0":{loc:{start:{line:27,column:9},end:{line:27,column:65}},type:"cond-expr",locations:[{start:{line:27,column:49},end:{line:27,column:57}},{start:{line:27,column:60},end:{line:27,column:65}}],line:27},"1":{loc:{start:{line:54,column:2},end:{line:59,column:3}},type:"if",locations:[{start:{line:54,column:2},end:{line:59,column:3}},{start:{line:54,column:2},end:{line:59,column:3}}],line:54},"2":{loc:{start:{line:63,column:19},end:{line:63,column:30}},type:"default-arg",locations:[{start:{line:63,column:26},end:{line:63,column:30}}],line:63},"3":{loc:{start:{line:74,column:0},end:{line:77,column:1}},type:"if",locations:[{start:{line:74,column:0},end:{line:77,column:1}},{start:{line:74,column:0},end:{line:77,column:1}}],line:74}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0],"3":[0,0]},_coverageSchema:"d34fc3e6b8297bcde183f5492bcb8fcb36775295"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const express=(cov_2e00313j0d.s[0]++,require('express'));const cors=(cov_2e00313j0d.s[1]++,require('cors'));const morgan=(cov_2e00313j0d.s[2]++,require('morgan'));const passport=(cov_2e00313j0d.s[3]++,require('passport'));const categoryRouter=(cov_2e00313j0d.s[4]++,require('./routes/category'));const recordRouter=(cov_2e00313j0d.s[5]++,require('./routes/record'));const usersRouter=(cov_2e00313j0d.s[6]++,require('./routes/users'));const loginRouter=(cov_2e00313j0d.s[7]++,require('./passport/router'));const localStrategy=(cov_2e00313j0d.s[8]++,require('./passport/local'));const{jwtStrategy}=(cov_2e00313j0d.s[9]++,require('./passport/jwt'));const{PORT,CLIENT_ORIGIN}=(cov_2e00313j0d.s[10]++,require('./config'));const{dbConnect}=(cov_2e00313j0d.s[11]++,require('./db-mongoose'));const app=(cov_2e00313j0d.s[12]++,express());// Parse request body
cov_2e00313j0d.s[13]++;app.use(express.json());// Utilize the given `strategy`
cov_2e00313j0d.s[14]++;passport.use(localStrategy);cov_2e00313j0d.s[15]++;passport.use(jwtStrategy);cov_2e00313j0d.s[16]++;app.use(morgan(process.env.NODE_ENV==='production'?(cov_2e00313j0d.b[0][0]++,'common'):(cov_2e00313j0d.b[0][1]++,'dev'),{skip:()=>{cov_2e00313j0d.f[0]++;cov_2e00313j0d.s[17]++;return process.env.NODE_ENV==='test';}}));cov_2e00313j0d.s[18]++;app.use(cors({origin:CLIENT_ORIGIN}));// Mount routers
cov_2e00313j0d.s[19]++;app.use('/category',categoryRouter);cov_2e00313j0d.s[20]++;app.use('/record',recordRouter);cov_2e00313j0d.s[21]++;app.use('/api/users',usersRouter);cov_2e00313j0d.s[22]++;app.use('/api/auth',loginRouter);// Custom 404 Not Found route handler
cov_2e00313j0d.s[23]++;app.use((req,res,next)=>{cov_2e00313j0d.f[1]++;const err=(cov_2e00313j0d.s[24]++,new Error('Not Found'));cov_2e00313j0d.s[25]++;err.status=404;cov_2e00313j0d.s[26]++;next(err);});// Custom Error Handler
cov_2e00313j0d.s[27]++;app.use((err,req,res,next)=>{cov_2e00313j0d.f[2]++;cov_2e00313j0d.s[28]++;if(err.status){cov_2e00313j0d.b[1][0]++;const errBody=(cov_2e00313j0d.s[29]++,Object.assign({},err,{message:err.message}));cov_2e00313j0d.s[30]++;res.status(err.status).json(errBody);}else{cov_2e00313j0d.b[1][1]++;cov_2e00313j0d.s[31]++;res.status(500).json({message:'Internal Server Error'});}});function runServer(port=(cov_2e00313j0d.b[2][0]++,PORT)){cov_2e00313j0d.f[3]++;const server=(cov_2e00313j0d.s[32]++,app.listen(port,()=>{cov_2e00313j0d.f[4]++;cov_2e00313j0d.s[33]++;console.info(`App listening on port ${server.address().port}`);}).on('error',err=>{cov_2e00313j0d.f[5]++;cov_2e00313j0d.s[34]++;console.error('Express failed to start');cov_2e00313j0d.s[35]++;console.error(err);}));}cov_2e00313j0d.s[36]++;if(require.main===module){cov_2e00313j0d.b[3][0]++;cov_2e00313j0d.s[37]++;dbConnect();cov_2e00313j0d.s[38]++;runServer();}else{cov_2e00313j0d.b[3][1]++;}cov_2e00313j0d.s[39]++;module.exports={app};